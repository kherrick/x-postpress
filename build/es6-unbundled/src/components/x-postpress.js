define(["../utilities/misc.js","../../node_modules/lit-element/lit-element.js","../templates/articles/articles.js","../templates/styles/x-postpress.js"],function(_misc,_litElement,_articles,_xPostpress){"use strict";_articles=babelHelpers.interopRequireWildcard(_articles);_xPostpress=babelHelpers.interopRequireDefault(_xPostpress);var __decorate=void 0||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)if(d=decorators[i])r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r;return 3<c&&r&&Object.defineProperty(target,key,r),r};class xPostpress extends _litElement.LitElement{constructor(){super();this.apiHost="https://content.example.com";this.apiPath="/wp-json/wp/v2";this.categories="";this.include="";this.page="";this.per_page="";this.tags="";this.search="";this.slug="";this.urlAttributes=["apiHost","apiPath"];this.builtQueryStringAttributes=["categories","include","page","per_page","search","slug","tags"];this.didGetPosts=!1;this.articles=_articles.loading}requestPosts(){const postsUrl=(0,_misc.getPostsUrl)({apiHost:this.apiHost,apiPath:this.apiPath,categories:this.categories,include:this.include,page:this.page,per_page:this.per_page,search:this.search,slug:this.slug,tags:this.tags},this.builtQueryStringAttributes);(0,_misc.getPosts)(postsUrl).then(res=>(0,_articles.default)(res)).catch(err=>(0,_articles.getErrorMessageArticle)(err)).then(articles=>{this.didGetPosts=!0;this.articles=articles})}firstUpdated(){this.requestPosts()}updated(changedProperties){if(this.didGetPosts){const shouldGetPostsAttributes=[...this.urlAttributes,...this.builtQueryStringAttributes],props=changedProperties.keys();let prop=props.next();while(!prop.done){if(-1!==shouldGetPostsAttributes.indexOf(prop.value)){this.requestPosts();break}prop=props.next()}}}render(){return _litElement.html`
      ${_xPostpress.default}<slot name="articles"></slot>${this.articles}
    `}}__decorate([(0,_litElement.property)({type:String,reflect:!0})],xPostpress.prototype,"apiHost",void 0);__decorate([(0,_litElement.property)({type:String,reflect:!0})],xPostpress.prototype,"apiPath",void 0);__decorate([(0,_litElement.property)({type:String,reflect:!0})],xPostpress.prototype,"categories",void 0);__decorate([(0,_litElement.property)({type:String,reflect:!0})],xPostpress.prototype,"include",void 0);__decorate([(0,_litElement.property)({type:String,reflect:!0})],xPostpress.prototype,"page",void 0);__decorate([(0,_litElement.property)({type:String,reflect:!0})],xPostpress.prototype,"per_page",void 0);__decorate([(0,_litElement.property)({type:String,reflect:!0})],xPostpress.prototype,"tags",void 0);__decorate([(0,_litElement.property)({type:String,reflect:!0})],xPostpress.prototype,"search",void 0);__decorate([(0,_litElement.property)({type:String,reflect:!0})],xPostpress.prototype,"slug",void 0);__decorate([(0,_litElement.property)({type:Boolean})],xPostpress.prototype,"urlAttributes",void 0);__decorate([(0,_litElement.property)({type:Array})],xPostpress.prototype,"builtQueryStringAttributes",void 0);__decorate([(0,_litElement.property)({type:Boolean})],xPostpress.prototype,"didGetPosts",void 0);__decorate([(0,_litElement.property)({type:_litElement.TemplateResult})],xPostpress.prototype,"articles",void 0);window.customElements.define("x-postpress",xPostpress)});