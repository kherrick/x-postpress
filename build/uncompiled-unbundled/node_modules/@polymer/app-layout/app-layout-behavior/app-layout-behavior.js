import"../../polymer/polymer-legacy.js";import{IronResizableBehavior}from"../../iron-resizable-behavior/iron-resizable-behavior.js";import{dom}from"../../polymer/lib/legacy/polymer.dom.js";import{animationFrame}from"../../polymer/lib/utils/async.js";import{Debouncer}from"../../polymer/lib/utils/debounce.js";import{enqueueDebouncer}from"../../polymer/lib/utils/flush.js";export const AppLayoutBehavior=[IronResizableBehavior,{listeners:{"app-reset-layout":"_appResetLayoutHandler","iron-resize":"resetLayout"},attached:function(){this.fire("app-reset-layout")},_appResetLayoutHandler:function(e){if(dom(e).path[0]===this){return}this.resetLayout();e.stopPropagation()},_updateLayoutStates:function(){console.error("unimplemented")},resetLayout:function(){var self=this,cb=this._updateLayoutStates.bind(this);this._layoutDebouncer=Debouncer.debounce(this._layoutDebouncer,animationFrame,cb);enqueueDebouncer(this._layoutDebouncer);this._notifyDescendantResize()},_notifyLayoutChanged:function(){var self=this;requestAnimationFrame(function(){self.fire("app-reset-layout")})},_notifyDescendantResize:function(){if(!this.isAttached){return}this._interestedResizables.forEach(function(resizable){if(this.resizerShouldNotify(resizable)){this._notifyDescendant(resizable)}},this)}}];